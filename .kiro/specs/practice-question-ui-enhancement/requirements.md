# Requirements Document

## Introduction

This feature creates a downloadable HTML practice question interface with ElevenLabs.io aesthetic. After practice questions are generated, users can download a self-contained HTML file with beautiful styling that works offline. The HTML file includes all questions, interactive functionality, and premium visual design inspired by ElevenLabs.io.

## Requirements

### Requirement 1: Practice Set Generation and Download

**User Story:** As an English learner, I want to generate practice questions and download them as an HTML file, so that I can practice offline or share with others.

#### Acceptance Criteria

1. WHEN practice questions are generated THEN the system SHALL display a success message with a download button
2. WHEN the user clicks the download button THEN the system SHALL generate a self-contained HTML file with all questions and styling
3. WHEN the HTML file is generated THEN the system SHALL include all CSS styles inline (no external dependencies)
4. WHEN the HTML file is generated THEN the system SHALL include all JavaScript functionality inline for interactivity
5. WHEN the download completes THEN the system SHALL name the file with the wordlist name and timestamp (e.g., "my-wordlist-practice-2025-01-13.html")
6. WHEN the user opens the downloaded HTML THEN the system SHALL display a fully functional practice interface that works offline
7. WHEN generating the HTML THEN the system SHALL ensure the file size remains reasonable (< 500KB for typical practice sets)

### Requirement 2: HTML Page Layout and Structure

**User Story:** As an English learner, I want the downloaded HTML to have a clean and professional layout, so that I can focus on practicing without distractions.

#### Acceptance Criteria

1. WHEN the HTML page loads THEN the system SHALL display a centered layout with maximum width of 800px
2. WHEN showing the page header THEN the system SHALL display the wordlist name (24px, bold, black) and question count
3. WHEN displaying the practice area THEN the system SHALL use generous whitespace (64px+ top/bottom padding, 32px sides)
4. WHEN showing the background THEN the system SHALL use pure white (#FFFFFF) with no distractions
5. WHEN displaying the footer THEN the system SHALL show a subtle "Generated by VocabGo" credit in small gray text
6. WHEN the page is viewed on mobile THEN the system SHALL adapt to smaller screens with reduced padding (24px)
7. WHEN the page loads THEN the system SHALL use the system font stack for optimal performance and native feel

### Requirement 3: Matching Question Visual Design

**User Story:** As an English learner, I want an elegant matching interface in the HTML file, so that the practice experience feels premium and engaging.

#### Acceptance Criteria

1. WHEN displaying matching questions THEN the system SHALL use a two-column layout with clean white cards for each item
2. WHEN showing word pairs THEN the system SHALL use generous padding (20px), subtle borders (#E5E7EB), and rounded corners (12px)
3. WHEN a user clicks an item THEN the system SHALL highlight it with a black border (#000000) and light gray background (#FAFAFA)
4. WHEN drawing connection lines THEN the system SHALL use SVG lines with smooth CSS transitions (250ms ease-out)
5. WHEN showing correct matches THEN the system SHALL use a subtle green border (#10B981) and light green background tint
6. WHEN showing incorrect matches THEN the system SHALL use a subtle red border (#EF4444) and light red background tint
7. WHEN all matches are complete THEN the system SHALL display the score in a clean card with fade-in animation

### Requirement 4: Fill-in-the-Blank Question Visual Design

**User Story:** As an English learner, I want a clean and focused fill-in-the-blank interface in the HTML file, so that I can concentrate on typing my answers.

#### Acceptance Criteria

1. WHEN displaying fill-in-the-blank questions THEN the system SHALL show the sentence with a prominent input field (44px height)
2. WHEN showing the input field THEN the system SHALL use light gray background (#FAFAFA), subtle border (#E5E7EB), 12px border-radius, and 16px padding
3. WHEN the input is focused THEN the system SHALL darken the border to black (#000000) with a smooth CSS transition (150ms)
4. WHEN showing the sentence THEN the system SHALL use clear typography (18px, line-height 1.6, black text)
5. WHEN providing feedback THEN the system SHALL change the input border color (green #10B981 for correct, red #EF4444 for incorrect)
6. WHEN showing the correct answer THEN the system SHALL display it below the input in medium gray text (#6B7280)
7. WHEN the user submits an answer THEN the system SHALL disable the input and show a "Next" button (black pill, 44px height)

### Requirement 5: Multiple Choice Question Visual Design

**User Story:** As an English learner, I want an elegant multiple choice interface in the HTML file, so that I can easily read and select my answers.

#### Acceptance Criteria

1. WHEN displaying multiple choice questions THEN the system SHALL show the practice sentence at the top (18px, line-height 1.6)
2. WHEN showing answer options THEN the system SHALL display them as clean cards with borders (#E5E7EB), rounded corners (12px), and 20px padding
3. WHEN a user hovers over an option THEN the system SHALL show a subtle background change (#FAFAFA) with CSS transition (150ms)
4. WHEN an option is clicked THEN the system SHALL highlight it with a black border (#000000) and show feedback
5. WHEN showing correct feedback THEN the system SHALL use green border (#10B981) and light green background tint
6. WHEN showing incorrect feedback THEN the system SHALL use red border (#EF4444) and show the correct answer with green border
7. WHEN options are displayed THEN the system SHALL maintain 16px spacing between cards and use cursor pointer on hover

### Requirement 6: Results View Design

**User Story:** As an English learner, I want a clear and informative results view in the HTML file, so that I can see my performance.

#### Acceptance Criteria

1. WHEN all questions are answered THEN the system SHALL display a results section with the final score
2. WHEN showing the score THEN the system SHALL display it prominently (48px, bold, black) with percentage and fraction (e.g., "85% - 17/20")
3. WHEN displaying the breakdown THEN the system SHALL show correct/incorrect counts by question type in a clean card
4. WHEN showing incorrect answers THEN the system SHALL list them with the question, user's answer, and correct answer
5. WHEN displaying the results card THEN the system SHALL use white background, subtle border (#E5E7EB), 16px border-radius, and 32px padding
6. WHEN showing a high score (>80%) THEN the system SHALL display a green checkmark icon and "Great job!" message
7. WHEN showing a lower score THEN the system SHALL display an encouraging message like "Keep practicing!"

### Requirement 7: Progress Tracking in HTML

**User Story:** As an English learner, I want the HTML file to track my progress during the session, so that I can see how I'm doing.

#### Acceptance Criteria

1. WHEN the practice session starts THEN the system SHALL display a progress indicator showing "Question X of Y"
2. WHEN showing the progress indicator THEN the system SHALL use a thin progress bar (4px height, black fill, light gray background)
3. WHEN a question is answered THEN the system SHALL update the progress bar with a smooth CSS transition (300ms)
4. WHEN displaying the progress text THEN the system SHALL use 14px font size, medium weight, and gray color (#6B7280)
5. WHEN showing the progress bar THEN the system SHALL position it at the top of the practice area with 24px margin below
6. WHEN the user navigates between questions THEN the system SHALL update the progress indicator immediately
7. WHEN all questions are complete THEN the system SHALL hide the progress indicator and show the results

### Requirement 8: Navigation and Controls

**User Story:** As an English learner, I want clear navigation controls in the HTML file, so that I can move through questions easily.

#### Acceptance Criteria

1. WHEN displaying navigation buttons THEN the system SHALL show "Previous" and "Next" buttons at the bottom of each question
2. WHEN showing navigation buttons THEN the system SHALL use pill-shaped buttons (44px height, 24px horizontal padding, 12px border-radius)
3. WHEN on the first question THEN the system SHALL disable the "Previous" button with reduced opacity (0.4)
4. WHEN on the last question THEN the system SHALL change "Next" to "Finish" with black background and white text
5. WHEN a button is disabled THEN the system SHALL use cursor not-allowed and prevent clicks
6. WHEN buttons are enabled THEN the system SHALL show hover effects (background color change, 150ms transition)
7. WHEN displaying button text THEN the system SHALL use 15px font size, 600 font weight, and appropriate colors

### Requirement 9: Typography and Color System

**User Story:** As an English learner, I want consistent and readable typography in the HTML file, so that the content is easy to read.

#### Acceptance Criteria

1. WHEN displaying text THEN the system SHALL use the system font stack (-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif)
2. WHEN showing headings THEN the system SHALL use appropriate sizes (H1: 36px, H2: 24px, H3: 20px) with bold weight (700)
3. WHEN displaying body text THEN the system SHALL use 16px font size with 1.5 line-height for readability
4. WHEN showing labels and captions THEN the system SHALL use 14px font size with medium gray color (#6B7280)
5. WHEN using colors THEN the system SHALL follow the palette: black (#000000), white (#FFFFFF), grays (#FAFAFA, #E5E7EB, #6B7280)
6. WHEN showing semantic colors THEN the system SHALL use green (#10B981) for success and red (#EF4444) for errors
7. WHEN displaying Mandarin text THEN the system SHALL ensure adequate font size (16-18px) for character clarity

### Requirement 10: Responsive Design

**User Story:** As an English learner using mobile devices, I want the HTML file to work well on my phone, so that I can practice anywhere.

#### Acceptance Criteria

1. WHEN viewing on mobile (< 768px) THEN the system SHALL reduce container padding to 24px and use full-width buttons
2. WHEN displaying matching questions on mobile THEN the system SHALL stack columns vertically with 24px spacing between
3. WHEN showing multiple choice options on mobile THEN the system SHALL maintain card layout with full-width cards
4. WHEN displaying on mobile THEN the system SHALL ensure touch targets are at least 44px for easy tapping
5. WHEN viewing on tablet (768-1023px) THEN the system SHALL use 32px container padding and maintain two-column matching layout
6. WHEN the viewport is narrow THEN the system SHALL use CSS media queries to adjust layouts smoothly
7. WHEN displaying on any device THEN the system SHALL ensure text remains readable without horizontal scrolling

### Requirement 11: Animations and Transitions

**User Story:** As an English learner, I want smooth animations in the HTML file, so that the interface feels polished and responsive.

#### Acceptance Criteria

1. WHEN elements appear THEN the system SHALL use CSS fade-in animations (opacity transition, 250ms ease-out)
2. WHEN buttons are hovered THEN the system SHALL show color transitions (150ms ease-out)
3. WHEN transitioning between questions THEN the system SHALL fade out the current question and fade in the next (300ms)
4. WHEN showing feedback THEN the system SHALL use smooth border and background color transitions (200ms)
5. WHEN drawing connection lines for matching THEN the system SHALL animate the SVG stroke-dashoffset for a drawing effect
6. WHEN the user prefers reduced motion THEN the system SHALL respect @media (prefers-reduced-motion: reduce) and disable animations
7. WHEN animations run THEN the system SHALL use CSS transforms and opacity for optimal performance

### Requirement 12: JavaScript Functionality

**User Story:** As an English learner, I want the HTML file to be fully interactive, so that I can answer questions and see my results.

#### Acceptance Criteria

1. WHEN the HTML loads THEN the system SHALL initialize JavaScript to handle all question interactions
2. WHEN a user clicks a matching item THEN the system SHALL track selections and draw connection lines using JavaScript
3. WHEN a user types in a fill-blank input THEN the system SHALL validate the answer on submit using fuzzy matching
4. WHEN a user clicks a multiple choice option THEN the system SHALL check the answer and provide immediate feedback
5. WHEN navigation buttons are clicked THEN the system SHALL show/hide questions and update the progress indicator
6. WHEN all questions are answered THEN the system SHALL calculate the score and display the results view
7. WHEN the JavaScript runs THEN the system SHALL work without any external dependencies or network requests
