# VocabGo Environment Variables Template
# Copy this file to .env.local and fill in your actual values

# =============================================================================
# FRONTEND ENVIRONMENT VARIABLES (Vite - must start with VITE_)
# =============================================================================

# Supabase Configuration
# Get these from your Supabase project settings or local setup
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# =============================================================================
# BACKEND ENVIRONMENT VARIABLES (Supabase Edge Functions)
# =============================================================================
# These are automatically available in Supabase Edge Functions
# Set them in Supabase Dashboard > Project Settings > Edge Functions
# Or use `supabase secrets set` for local development

# Supabase (automatically provided by Supabase)
# SUPABASE_URL=http://localhost:54321
# SUPABASE_ANON_KEY=your-local-anon-key

# GLM API Configuration (Required)
# Get your API key from https://open.bigmodel.cn/
GLM_API_KEY=your-glm-api-key-here
GLM_API_URL=https://open.bigmodel.cn/api/paas/v4/chat/completions
GLM_MODEL=glm-4-flash

# GLM Optional Configuration (with defaults)
GLM_MAX_TOKENS=2000
GLM_TEMPERATURE=0.7
GLM_TIMEOUT_MS=30000
GLM_MAX_RETRIES=3
GLM_BASE_DELAY_MS=1000
GLM_MAX_DELAY_MS=10000
GLM_BACKOFF_MULTIPLIER=2

# =============================================================================
# FEATURE FLAGS (Optional)
# =============================================================================
MAX_CONCURRENT_UPLOADS=5
UPLOAD_COOLDOWN_MS=60000
MAX_FILE_SIZE_MB=50
MAX_WORDS_PER_DOCUMENT=40
FILE_RETENTION_HOURS=24

# =============================================================================
# CHUNK-BASED PROCESSING CONFIGURATION (Optional)
# =============================================================================

# Feature Flags
ENABLE_CHUNKING=true                    # Master switch for chunk-based processing
ENABLE_CONCURRENT_CHUNK_PROCESSING=true # Process chunks concurrently

# Chunking Configuration
CHUNK_TARGET_SIZE=8000                  # Target characters per chunk
CHUNK_MAX_SIZE=10000                    # Maximum characters per chunk
CHUNK_MIN_SIZE=2000                     # Minimum chunk size (merge if smaller)
CHUNK_OVERLAP_SIZE=200                  # Overlap between consecutive chunks
CHUNK_THRESHOLD=8000                    # Document size threshold to trigger chunking

# Processing Configuration
MAX_CONCURRENT_CHUNKS=3                 # Maximum chunks to process concurrently
CHUNK_TIMEOUT_MS=30000                  # Timeout per chunk (30 seconds)
MAX_WORDS_PER_CHUNK=50                  # Maximum words to extract per chunk

# Performance Thresholds (for monitoring/warnings)
CHUNK_PROCESSING_WARNING_MS=10000       # Warn if chunk takes longer than this
TOKEN_USAGE_WARNING_THRESHOLD=5000      # Warn if chunk uses more tokens than this
TOTAL_TOKEN_WARNING_THRESHOLD=50000     # Warn if total tokens exceed this
